"use strict";(self.webpackChunkgraaf=self.webpackChunkgraaf||[]).push([[855],{3905:(e,t,r)=>{r.d(t,{Zo:()=>d,kt:()=>u});var a=r(7294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},s=Object.keys(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var o=a.createContext({}),l=function(e){var t=a.useContext(o),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},d=function(e){var t=l(e.components);return a.createElement(o.Provider,{value:t},e.children)},g="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},h=a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,s=e.originalType,o=e.parentName,d=p(e,["components","mdxType","originalType","parentName"]),g=l(r),h=n,u=g["".concat(o,".").concat(h)]||g[h]||c[h]||s;return r?a.createElement(u,i(i({ref:t},d),{},{components:r})):a.createElement(u,i({ref:t},d))}));function u(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var s=r.length,i=new Array(s);i[0]=h;var p={};for(var o in t)hasOwnProperty.call(t,o)&&(p[o]=t[o]);p.originalType=e,p[g]="string"==typeof e?e:n,i[1]=p;for(var l=2;l<s;l++)i[l]=r[l];return a.createElement.apply(null,i)}return a.createElement.apply(null,r)}h.displayName="MDXCreateElement"},5624:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>o,contentTitle:()=>i,default:()=>c,frontMatter:()=>s,metadata:()=>p,toc:()=>l});var a=r(7462),n=(r(7294),r(3905));const s={},i="Network Example",p={unversionedId:"examples/example-basics/transport-example",id:"examples/example-basics/transport-example",title:"Network Example",description:"This example showcases graph traversal and shortest path algorithms in an undirected graph network. As such, it",source:"@site/docs/examples/example-basics/transport-example.md",sourceDirName:"examples/example-basics",slug:"/examples/example-basics/transport-example",permalink:"/graaf/docs/examples/example-basics/transport-example",draft:!1,editUrl:"https://github.com/bobluppes/graaf/tree/main/docs/examples/example-basics/transport-example.md",tags:[],version:"current",frontMatter:{},sidebar:"exampleSidebar",previous:{title:"Shortest Path Example",permalink:"/graaf/docs/examples/example-basics/shortest-path"}},o={},l=[{value:"Visualizing graph traversal result",id:"visualizing-graph-traversal-result",level:2},{value:"Graph example usage",id:"graph-example-usage",level:3}],d={toc:l},g="wrapper";function c(e){let{components:t,...s}=e;return(0,n.kt)(g,(0,a.Z)({},d,s,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"network-example"},"Network Example"),(0,n.kt)("p",null,"This example showcases graph traversal and shortest path algorithms in an undirected graph network. As such, it\ndemonstrates the usage of the following classes and algorithms:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"The undirected_graph implemented in ",(0,n.kt)("inlineCode",{parentName:"li"},"graaf::undirected_graph")),(0,n.kt)("li",{parentName:"ul"},"The shortest path algorithm implemented in ",(0,n.kt)("inlineCode",{parentName:"li"},"graaf::algorithm::get_shortest_path")),(0,n.kt)("li",{parentName:"ul"},"The graph traversal implemented in ",(0,n.kt)("inlineCode",{parentName:"li"},"graaf::algorithm::graph_traversal"))),(0,n.kt)("p",null,"Using the following graph:"),(0,n.kt)("pre",null,(0,n.kt)("p",{align:"center"},(0,n.kt)("img",{src:r(4254).Z}))),(0,n.kt)("p",null,"Custom vertex and edge. In order to use Dijkstra, we should provide the get_weight() function for the edge."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-cpp"},"struct station {\n  std::string name{};\n};\n\nstruct railroad : public graaf::weighted_edge<double> {\n  double kilometers{};\n  [[nodiscard]] double get_weight() const noexcept override {\n    return kilometers;\n  }\n  railroad(double distance) : kilometers(distance) {}\n  ~railroad() {}\n};\n")),(0,n.kt)("h1",{id:"initializing-graph-start-and-end-vertecies"},"Initializing graph, start and end vertecies"),(0,n.kt)("p",null,"First, we create data structure and initializing graph with vertices and edges"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-cpp"},"struct graph_with_start_and_target {\n    graaf::undirected_graph<station, road> graph{};\n    graaf::vertex_id_t start{};\n    graaf::vertex_id_t target{};\n};\n\ngraph_with_start_and_target create_graph_with_start_and_target() {\n...\n}\n")),(0,n.kt)("h2",{id:"visualizing-graph-traversal-result"},"Visualizing graph traversal result"),(0,n.kt)("p",null,"For shortest path, colouring edges with red to indicate the shortest path for both weighted and unweighted graph\nWe need to specify the start and end vertices in order to find the shortest path between the start and end vertices."),(0,n.kt)("p",null,"Result of unweighted shortest path, chosen edges are coloured red"),(0,n.kt)("pre",null,(0,n.kt)("p",{align:"center"},(0,n.kt)("img",{src:r(7513).Z}))),(0,n.kt)("p",null,"Result of weighted shortest path, chosen edges are coloured red"),(0,n.kt)("pre",null,(0,n.kt)("p",{align:"center"},(0,n.kt)("img",{src:r(2612).Z}))),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-cpp"},"void print_shortest_path(const graaf::undirected_graph<station, road>& graph,\n                const std::optional<graaf::algorithm::graph_path<int>>& path, const std::string & filepath) {\n...\n}\n\nvoid print_visited_vertices(const graaf::undirected_graph<station, road>& graph,\n                            seen_vertices_t& seen,\n                            const std::string& filepath) {\n...\n}\n")),(0,n.kt)("p",null,"Creating an edge callback structure that will be passed as an argument in the graph traverse function\nThe function is needed in order to be called inside the traverse function; see graph.tpp for context."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-cpp"},"using seen_edges_t = std::unordered_set<graaf::edge_id_t, graaf::edge_id_hash>;\nstruct record_edges_callback {\n  seen_edges_t& seen_edges;\n\n  record_edges_callback(seen_edges_t& seen_edges)\n      : seen_edges{seen_edges} {}\n\n  void operator()(const graaf::edge_id_t& edge) const {\n    seen_edges.insert(edge);\n  }\n};\n")),(0,n.kt)("p",null,"Result of shortest path BFS, visited edges are coloured red"),(0,n.kt)("pre",null,(0,n.kt)("p",{align:"center"},(0,n.kt)("img",{src:r(7054).Z}))),(0,n.kt)("h3",{id:"graph-example-usage"},"Graph example usage"),(0,n.kt)("p",null,"First code block: traversing a weighted graph for the shortest path (Dijkstra) and printing the result to ",(0,n.kt)("em",{parentName:"p"},".dot file.\nSecond code block: traversing an unweighted graph for the shortest path and printing the result to "),".dot file.\nThe last one is traversing the graph from a given vertex and printing the result to *.dot file."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-cpp"},'  const auto [graph, start, target]{create_graph_with_start_and_target()};\n\n  const auto weighted_shortest_path{\n      graaf::algorithm::dijkstra_shortest_path(graph, start, target)};\n  print_shortest_path(graph, weighted_shortest_path,\n                      "example_weighted_graph.dot");\n\n  const auto unweighted_shortest_path{\n      graaf::algorithm::bfs_shortest_path(graph, start, target)};\n  print_shortest_path(graph, unweighted_shortest_path,\n                      "example_unwieghted_graph.dot");\n\n  seen_edges_t seen_edges{};\n  graaf::algorithm::breadth_first_traverse(\n      graph, start, record_edges_callback{seen_edges});\n  print_visited_vertices(graph, seen_edges,\n                         "example_traverse_BFS_graph.dot");\n')))}c.isMDXComponent=!0},7513:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/example_shortest_path_unweighted-e5d90dd7254d9155418497e14d88133c.png"},2612:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/example_shortest_path_weighted-0325cb8f7ebaa9330b6fa5e9630c4b7c.png"},7054:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/example_traversed_graph_BFS-f89fdcae4959a2b85cfd257eecbdc520.png"},4254:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/example_usage-c86c64679d3544aeae1f5f6a8be83562.png"}}]);